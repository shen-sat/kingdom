pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function _init()
  game = {}
  run_level()
end

function _update()
  game.update()
end

function _draw()
  game.draw() 

  -- draw sprites
  -- spr()

  --controls (goes from 0-5)
  

  --border
  -- rect(0,0,127,127,7) --border
end

function run_level()
  ground_y = 128 - 32
  camera_x = 0
  map_start_x = 0
  map_end_x = 256
  
  player = {
   sprite = 0,
   x = 64,
   y = ground_y - 8,
   width = 8,
   height = 8
  } 


  game.update = level_update
  game.draw = level_draw
end

function level_update()

 if btn(0) then player.x -= 2 end
 if btn(1) then player.x += 2 end
 if btn(2) then player.y -= 2 end
 if btn(3) then player.y += 2 end

 if player.x < map_start_x then player.x = map_start_x end
 if player.x + player.width > map_end_x then player.x = (map_end_x - player.width) end

 camera_x = player.x - 64 + (player.width/2)
 if camera_x < map_start_x then camera_x = map_start_x end
 if camera_x + 128 > map_end_x then camera_x = (map_end_x - 128) end
 camera(camera_x,0)


end

function level_draw()
 cls()
 map(0,0)
 spr(player.sprite,player.x,player.y)
end

__gfx__
1a1a919133333333cccccccc0001010007133100eeeeeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000
1aaa999133333333cccccccc0016161001733310eeeeeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000
1999999133333333cccccccc0016161013333331eeeeeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000
1444442133333333cccccccc0016161014444421eeeeeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000
1441441133333333cccccccc0116616114414411eeeeeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000
1444442133333333cccccccc1666666114444421eeeeeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000
1444422133333333cccccccc1666dd1014444221eeeeeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000
0141121033333333cccccccc161d161001411210eeeeeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0202020202020202020202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020201020201020202020202020202020202050202050202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010105050505050505050505050505050505000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010105050505050505050505050505050505000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010105050505050505050505050505050505000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010105050505050505050505050505050505000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
